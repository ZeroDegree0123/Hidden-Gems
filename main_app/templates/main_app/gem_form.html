{% extends 'base.html' %}

{% block content %}

{% if object %}
  <h1>Edit <span class="teal-text">{{ object.name }}</span></h1>
{% else %}
<br>
  <h1 class="text-center">Add Gem</h1>
{% endif %}
<form class="text-center" method="POST">
<form action="" method="POST">
  {% csrf_token %}
  <div class ="container w-50">
    <div class="form-floating mb-3">
      <input type="Gem Name" class="form-control" id="floatingInput" placeholder="Chandelier Tree">
      <label for="floatingInput">Gem Name</label>
    </div>
    <div class="form-floating mb-3">
      <input type="Location" class="form-control" id="floatingInput" placeholder="Location">
      <label for="floatingInput">City, State</label>
    </div>
    <div class="form-floating mb-3">
      <input type="Latitude" class="form-control" id="floatingInput" placeholder="47.2918">
      <label for="floatingInput">Latitude</label>
    </div>
    <div class="form-floating mb-3">
      <input type="Longitude" class="form-control" id="floatingInput" placeholder="-147.2918">
      <label for="floatingInput">Longitude</label>
    </div>
    <div class="form-floating mb-3">
      <input type="Description" class="form-control" id="floatingInput" placeholder="hvjhv">
      <label for="floatingInput">Description</label>
    </div>
    <div class="form-floating mb-3">
    <input type="Category" class="form-control" id="floatingInput" placeholder="hvjhv">
    <label for="floatingInput">Category</label>
    </div>
  </div>
  <button type="btn" id="locationbtn" disabled>Use Current Location</button>
  <button type="submit">SUBMIT</button>
</form>
  <script>
    const btn = document.getElementById('locationbtn');
    const latEl = document.getElementById('id_latitude');
    const lngEl = document.getElementById('id_longitude');
    let lat, lng;
    navigator.geolocation.getCurrentPosition(function(result){
      btn.disabled = false;
      lat = result.coords.latitude;
      lng = result.coords.longitude;
    })
    btn.addEventListener('click', function(evt){
      evt.preventDefault();
      latEl.value = lat;
      lngEl.value = lng;
    })
  </script>
  </form>
  {% endblock %}